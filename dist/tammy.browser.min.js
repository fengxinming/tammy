/*!
 * tammy.js v1.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,t;e=this,t=function(){"use strict";function v(e){return null==e}function f(e){return!v(e)&&"object"==typeof e}function m(e){return"string"==typeof e}function w(e){return"function"==typeof e}function s(e,t){return t?e.bind(t):e}function r(r,e,t){!function(e,t,n,r){var o=s(n,r);for(var i in t)if(!1===e(o,t[i],i))break}(function(e,t,n){return r.hasOwnProperty(n)&&e(t,n,r)},r,e,t)}function g(e,t,n){return f(e)&&r(e,t,n)}function o(e,t){return e[e.length]=t,e}function d(e,t,n){void 0===t&&(t="&"),void 0===n&&(n="=");var r=[];return g(e,function(e,t){e||!v(e)&&!isNaN(e)||(e=""),o(r,encodeURIComponent(t)+n+encodeURIComponent(e))}),r.length?r.join(t):""}function p(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function u(e,t,n,r,o){for(var i=s(r,o),u=t,a=void 0;!1!==a&&u<n;u++)a=i(e[u],u,e)}function l(e){var t=arguments.length;v(e)?1<t&&(e=""):e=e.replace(/\/+$/,"");var n="";return u(arguments,1,t,function(e){e&&(n+="/",n+=e)}),n&&(e+=n.replace(/\/+/g,"/")),e}var E=Object.assign||function(e){if(v(e))throw new TypeError("Cannot convert undefined or null to object");var n=Object(e);return u(arguments,1,arguments.length,function(e){g(e,function(e,t){n[t]=e})}),n};function a(e,t){return e<0?function(e,t){return t<=e?e:t}(0,t+e):e}function i(e,t,n,r,o){e&&function(e,t,n,r,o){var i=e.length;n=w(n)?(o=r,r=n,i):a(n,i),u(e,t=a(t,i),n,r,o)}(e,t,n,r,o)}function c(e,t){return e?(o(e,t),t):e}var n=Array.isArray;function t(e,t){return e&&n(e)?function(e,t){return e.splice(t,1)[0]||null}(e,t):null}function h(r,e){return g(e,function(e,t){if(f(e)){var n=r[t];n=f(n)?n:{},r[t]=h(n,e)}else r[t]=e}),r}function y(t){return i(arguments,1,function(e){h(t,e)}),t}function T(e){var n=[];return g(e,function(e,t){c(n,t+"="+e)}),n.join("&")}function b(e,t){return e+(-1===e.indexOf("?")?"?":"&")+t}var R={isNil:v,isString:m,isObject:f,isFunction:w,forOwn:g,assign:E,forSlice:i,append:c,removeAt:t,stringify:d,isAbsolute:p,joinURLs:l,mergeDeep:h,assignDeep:y,formify:T,joinQS:b},q="Content-Type",j="ECONNRESET",A="ECONNABORTED",x="ENETWORK";function H(e,t){var n=new Error(e);return E(n,t),n}var O=/([?&]_=)[^&]*/,C=Date.now();var N=console&&console.error||function(){};function S(n){return n.use=function(e,t){return c(n,{fulfilled:e,rejected:t})},n.eject=function(e){return t(e),n},n}function D(e){return e&&e.code===A}function k(e){var t=e.url,n=e.baseUrl,r=e.headers,o=e.method,i=e.qs,u=e.data,a=e.cache,s=e.adapter;switch(n&&!p(t)&&(t=l(n,t)),o){case"HEAD":case"DELETE":case"GET":i||(e.qs=i=u,e.data=u=void 0);break;case"POST":var c=r[q]||"";f(u)&&(u=c.indexOf("application/json")?T(u):JSON.stringify(u),e.data=u)}return i&&(f(i)&&(i=d(i)),t=b(t,i)),!1===a&&-1<["HEAD","DELETE","GET"].indexOf(o)&&(t=function(e){return C++,e.replace(O,"$1"+C)===e&&(e=b(e,"_="+C)),e}(t)),e.url=t,s(e)}function P(e,t,n){return function(t){return i(arguments,1,function(e){e.forEach(function(e){t=f(e)?t.then(e.fulfilled,e.rejected):t.then(e)})}),t}(Promise.resolve(e),n.request,t.request,[k],t.response,n.response)}var U={timeout:0,responseType:"json",validateStatus:function(e){return 200<=e&&e<300||304===e}};var L={json:"application/json; charset=utf-8",form:"application/x-www-form-urlencoded; charset=utf-8","form-data":"multipart/form-data; charset=utf-8"},_={"Content-Type":L.form},G={common:{Accept:"application/json, text/plain, */*"}};["DELETE","GET","HEAD"].forEach(function(e){G[e]={}}),["POST","PUT","PATCH"].forEach(function(e){G[e]=E({},_)});var X={};function I(e){var t={};return f(e)&&(t=e,e=""),function(e,t){return t.code=A,H(e||"Request aborted",t)}(e,t)}function M(){this.id=Date.now().toString(36)+Math.random().toString(36).slice(2),this.state=0}M.prototype.abort=function(e){var t=this.state;if(this.state=1,this.error=e,!t){var n=this._abort;n&&(n(),delete this._abort)}this.remove()},M.prototype.push=function(e){return this.state?e():this._abort=e,this},M.prototype.remove=function(){delete X[this.id]},U.adapter=function(h){return new Promise(function(o,i){function u(){d.remove(),p=null}var e=h.method,t=h.url,n=h.data,r=h.async,a=h.timeout,s=h.responseType,c=h.onDownloadProgress,f=h.onUploadProgress,d=h._abortion,p=new window.XMLHttpRequest;p.open(e,t,!1!==r),p.timeout=a||0,p.onreadystatechange=function(){if(p&&4===p.readyState){var e=p.status,t=p.responseURL;if(0!==e||t&&0===t.indexOf("file:")){var n=s&&"text"!==s?p.response||p.responseText:p,r={data:n,statusText:p.statusText,options:h,request:p,status:e};if(h.validateStatus(e)){if("json"===s&&m(n))try{r.data=JSON.parse(n)}catch(e){N("Parse data error: ",e)}o(r)}else i(function(e,t){return H("Request failed with status code "+(t.code=e),t)}(e,r));u()}}},p.onerror=function(){i(function(e,t){return t.code=x,H(e||"Network Error",t)}(null,{options:h,request:p})),u()},p.ontimeout=function(){i(function(e,t){return t.code=j,H("Timeout of "+e+"ms exceeded",t)}(a,{options:h,request:p})),u()};var l=h.headers;if(w(p.setRequestHeader)&&g(l,function(e,t){v(n)&&t===q?delete l[t]:p.setRequestHeader(t,e)}),h.withCredentials&&(p.withCredentials=!0),s)try{p.responseType=s||""}catch(e){N("responseType error: ",e)}w(c)&&p.addEventListener("progress",c),w(f)&&p.upload&&p.upload.addEventListener("progress",f),p.send(n||null),d.push(function(){i(E(d.error,{options:h,request:p})),p&&p.abort(),u()})})};var $=function(e){this.interceptors={request:S([]),response:S([])},this.internalHooks={request:S([]),response:S([])},this.defaults=y({},U,e)};$.prototype.request=function(e){var t,n=(e=E({},this.defaults,e)).method,r=e.headers,o=e.contentType,i=e.abortion;n=e.method=n?n.toUpperCase():"GET",r=e.headers=function(e,t){return E({},G.common,G[t],e)}(r,n),(t=function(e){return e&&L[e]}(o))&&(r[q]=t);var u=e._abortion=function(e){if(e)return X[e];var t=new M;return X[t.id]=t}();return w(i)&&i(u.id),P(e,this.internalHooks,this.interceptors)},$.prototype.setHeader=function(e,t,n){return n=n?n.toUpperCase():"common","Content-Type"===e&&(t=L[t]||t),(G[n]||G.common)[e]=t,this};var z=h,F=f,K=E;var e=function t(e){function o(e,t){return F(e)?e=(t=e).url:(t=t||{}).url=e,n.request(t)}var n=new $(e);return K(o,{use:function(e){return e.installed||(e(n,o),e.installed=!0),o},create:function(e){return t(e)},all:function(e){return Promise.all(e.map(function(e){return o(e)}))},isAborted:D,abort:function(e,t){return function(e,t){if(e){var n=X[e];n&&(n.abort(I(t)),delete X[e])}}(e,t),o},abortAll:function(e){return function(e){var n=I(e);g(X,function(e,t){e.abort(n),delete X[t]})}(e),o},util:R}),["get","delete","head","options","post","put","patch"].forEach(function(r){o[r]=function(e,t,n){return o(e,z({method:r,data:t},n))}}),o.del=o.delete,o}();function B(e){var t=e.internalHooks;window&&window.window===window&&t.request.use(function(e){var t=e.auth,n=e.headers;if(t){var r=t.username||"",o=t.password||"";n.Authorization="Basic "+window.btoa(r+":"+o)}return e})}function J(){return!!(v(navigator)||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&(!v(window)&&!v(document))}var Q,W,V,Y=J()?(W=/(msie|trident)/i.test(navigator.userAgent),V=document.createElement("a"),Q=Z(window.location.href),function(e){var t=m(e)?Z(e):e;return t.protocol===Q.protocol&&t.host===Q.host}):function(){return!0};function Z(e){var t=e;return W&&(V.setAttribute("href",t),t=V.href),V.setAttribute("href",t),{href:V.href,protocol:V.protocol?V.protocol.replace(/:$/,""):"",host:V.host,search:V.search?V.search.replace(/^\?/,""):"",hash:V.hash?V.hash.replace(/^#/,""):"",hostname:V.hostname,port:V.port,pathname:"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname}}var ee={set:function(){},get:function(){return null},remove:function(){}};function te(e){var t=e.internalHooks;window&&window.window===window&&t.request.use(function(e){var t=e.url,n=e.headers,r=e.withCredentials,o=e.xsrfCookieName;void 0===o&&(o="XSRF-TOKEN");var i=e.xsrfHeaderName;if(void 0===i&&(i="X-XSRF-TOKEN"),J()){var u=(r||Y(t))&&o?ee.get(o):void 0;u&&(n[i]=u)}return e})}ee.set=function(e,t,n,r,o,i){var u=[];u.push(e+"="+encodeURIComponent(t)),function(e){return"number"==typeof e}(n)&&u.push("expires="+new Date(n).toGMTString()),m(r)&&u.push("path="+r),m(o)&&u.push("domain="+o),!0===i&&u.push("secure"),document.cookie=u.join("; ")},ee.get=function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},ee.remove=function(e){this.write(e,"",Date.now()-864e5)};var ne=/^(.*?):[ \t]*([^\r\n]*)$/gm;function re(e){var t=e.internalHooks;window&&window.XMLHttpRequest&&t.response.use(function(e){var t=e.request;return e.options.getAllResponseHeaders&&t.getAllResponseHeaders&&(e.headers=function(e){for(var t,n={};t=ne.exec(e);)n[t[1].toLowerCase()]=t[2];return n}(t.getAllResponseHeaders())),e})}return e.use(B).use(te).use(re),e.plugins={auth:B,xsrf:te,resHeaders:re},e},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tammy=t();