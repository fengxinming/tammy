/*!
 * tammy.js v1.0.0-beta.5
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,n;e=this,n=function(){"use strict";function T(e){return null==e}function f(e){return!T(e)&&"object"==typeof e}function c(e,n){return n?e.bind(n):e}function d(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(e.hasOwnProperty(o)&&!1===r(e[o],o,e))break}(e,n,t)}function l(e,n){e[e.length]=n}function p(e,n,t,r,o){for(var u=c(r,o),i=n,a=void 0;!1!==a&&i<t;i++)a=u(e[i],i,e)}function y(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(!1===r(e[o],o,e))break}(e,n,t)}function n(e,n,t){return e&&function(e,n,t){p(e,0,e.length,n,t)}(e,n,t)}function w(e){return"function"==typeof e}function h(e,n){if(e)return l(e,n),n}var g="Content-Type",t="ECONNRESET",x="ETIMEOUT",b="ENETWORK",q=Object.assign||function(e){if(T(e))throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);return n(arguments,function(e){y(e,function(e,n){t[n]=e})}),t};function u(r,e){return y(e,function(e,n){if(f(e)){var t=r[n];t=f(t)?t:{},r[n]=u(t,e)}else r[n]=e}),r}function r(n){return function(e,n,t,r,o){e&&(w(t)&&(o=r,r=t,t=e.length),p(e,n,t||e.length,r,o))}(arguments,1,function(e){u(n,e)}),n}function j(e,n){var t=new Error(e);return q(t,n),t}function i(r,e){return e.forEach(function(e){var n=e.fulfilled,t=e.rejected;r=r.then(n,t)}),r}function v(e,n){return e+(-1<e.indexOf("?")?"?":"&")+n}var m=/([?&]_=)[^&]*/,E=Date.now();var O=console&&console.error||function(){};function o(t){return t.use=function(e,n){return h(t,{fulfilled:e,rejected:n}),t},t.eject=function(e){return function(e,n){e.splice(n,1)}(e),t},t}var C="Content-Type";function a(e){var n=e.url,t=e.baseUrl,r=e.headers,o=e.method,u=e.qs,i=e.data,a=e.cache,c=e.adapter;switch(t&&!function(e){return/^([a-z][a-z0-9+\-.]*:)?\/\//i.test(e)}(n)&&(n=function(e){var n=arguments,t=n.length;T(e)?1<t&&(e=""):e=e.replace(/\/+$/,"");var r="";return p(n,1,t,function(e){r+="/",r+=e||""}),r&&(e+=r.replace(/\/+/g,"/")),e}(t,n)),o){case"HEAD":case"DELETE":case"GET":u||(e.qs=u=i,e.data=i=void 0);break;case"POST":var s=r[C]||"";f(i)&&(i=s.indexOf("application/json")?function(e){var t=[];return y(e,function(e,n){h(t,n+"="+e)}),t.join("&")}(i):JSON.stringify(i),e.data=i)}return u&&(f(u)&&(u=function(e,n,t){void 0===n&&(n="&"),void 0===t&&(t="=");var r=[];return d(e,function(e,n){e||!T(e)&&!isNaN(e)||(e=""),l(r,encodeURIComponent(n)+t+encodeURIComponent(e))}),r.length?r.join(n):""}(u)),n=v(n,u)),!1===a&&-1<["HEAD","DELETE","GET"].indexOf(o)&&(n=function(e){return E++,e.replace(m,"$1"+E)===e&&(e=v(e,"_="+E)),e}(n)),e.url=n,c(e)}var s={timeout:0,responseType:"json",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",validateStatus:function(e){return 200<=e&&e<300||304===e}};var H="Request aborted",N={};function R(e){var n={};return e?f(e)&&(e=(n=e).message||H):e=H,n.code=t,j(e,n)}function S(e){var n=Date.now().toString(36)+Math.random().toString(36).slice(2);return N[n]=e,n}function U(e){return e&&e.code===t}function P(e){e&&delete N[e]}var k={json:"application/json; charset=UTF-8",form:"application/x-www-form-urlencoded; charset=UTF-8","form-data":"multipart/form-data; charset=UTF-8"},D={"Content-Type":k.form},A={common:{Accept:"application/json, text/plain, */*"}};["DELETE","GET","HEAD"].forEach(function(e){A[e]={}}),["POST","PUT","PATCH"].forEach(function(e){A[e]=q({},D)}),s.adapter=function(E){return new Promise(function(u,i){var n,a,e=E.method,t=E.url,r=E.data,o=E.async,c=E.timeout,s=E.responseType,f=E.onDownloadProgress,d=E.onUploadProgress,l=E.abortion,p=E.xhrHooks,h=new window.XMLHttpRequest,v=function(){h=a=n=null};h.open(e,t,!1!==o),h.timeout=c||0,h.onreadystatechange=function(){if(h&&4===h.readyState){P(a);var e=h.status,n=h.responseURL,t=h.responseText;if(0!==e||n&&0===n.indexOf("file:")){var r=s&&"text"!==s?h.response||t:h,o={data:r,statusText:h.statusText,options:E,request:h,status:e};if(p.response.forEach(function(e){return e(h,o,E)}),E.validateStatus(e)){if("json"===s&&function(e){return"string"==typeof e}(r))try{o.data=JSON.parse(r)}catch(e){O("Parse data error: ",e)}u(o)}else i(function(e,n){return j("Request failed with status code "+(n.code=e),n)}(e,o));v()}}},h.onabort=function(){h&&(i(q(n,{options:E,request:h})),P(a),v())},a=S(function(e){n=e,h&&h.abort()}),w(l)&&l(a),h.onerror=function(){P(a),i(function(e,n){return n.code=b,j(e||"Network Error")}(null,{options:E,request:h})),v()},h.ontimeout=function(){P(a),i(function(e,n){return n.code=x,j("Timeout of "+e+"ms exceeded",n)}(c,{options:E,request:h})),v()},p.request.forEach(function(e){return e(E)});var m=E.headers;if(w(h.setRequestHeader)&&y(m,function(e,n){T(r)&&n===g?delete m[n]:h.setRequestHeader(n,e)}),E.withCredentials&&(h.withCredentials=!0),s)try{h.responseType=s||""}catch(e){O("responseType error: ",e)}w(f)&&h.addEventListener("progress",f),w(d)&&h.upload&&h.upload.addEventListener("progress",d),h.send(r||null)})};var L=function(e){this.interceptors={request:o([]),response:o([])},this.xhrHooks={request:[],response:[]},this.defaults=r({},s,e)};return L.prototype.request=function(e){var n,t=(e=q({},this.defaults,e)).method,r=e.headers,o=e.contentType;t=e.method=t?t.toUpperCase():"GET",r=e.headers=function(e,n){return q({},A.common,A[n],e)}(r,t),(n=function(e){return e&&k[e]}(o))&&(r[g]=n);var u=this.xhrHooks;return e.xhrHooks=u,function(e,n,t){var r=Promise.resolve(e);return r=i(i(r,n).then(a),t)}(e,u.request,u.response)},L.prototype.setHeader=function(e,n,t){return t=t?t.toUpperCase():"common","Content-Type"===e&&(n=k[n]||n),(A[t]||A.common)[e]=n,this},function n(e){var t=new L(e),o=function(e,n){return f(e)?e=(n=e).url:(n=n||{}).url=e,t.request(n)};return q(o,{use:function(e){return e.installed||(e(t,o),e.installed=!0),o},create:function(e){return n(e)},all:function(e){return Promise.all(e.map(function(e){return o(e)}))},isAborted:U,abort:function(e,n){return function(e,n,t){return(0,N[e])(R(n)),delete N[e],t}(e,n,o)},abortAll:function(e){return function(t,e){return y(N,function(e,n){e(R(t)),delete N[n]}),e}(e,o)}}),["get","delete","head","options","post","put","patch"].forEach(function(r){o[r]=function(e,n,t){return o(e,u({method:r,data:n},t))}}),o.del=o.delete,o}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).tammy=n();