/*!
 * tammy.js v1.0.0-beta.4
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,n;e=this,n=function(){"use strict";function T(e){return null==e}function f(e){return!T(e)&&"object"==typeof e}function c(e,n){return n?e.bind(n):e}function d(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(e.hasOwnProperty(o)&&!1===r(e[o],o,e))break}(e,n,t)}function p(e,n){e[e.length]=n}function l(e,n,t,r,o){for(var u=c(r,o),i=n,a=void 0;!1!==a&&i<t;i++)a=u(e[i],i,e)}function y(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(!1===r(e[o],o,e))break}(e,n,t)}function o(e,n,t){return e&&function(e,n,t){l(e,0,e.length,n,t)}(e,n,t)}function h(e,n){if(e)return p(e,n),n}var w="Content-Type",t="ECONNRESET",x="ETIMEOUT",g="ENETWORK",b=Object.assign||function(e){if(T(e))throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);return o(arguments,function(e){y(e,function(e,n){t[n]=e})}),t};function u(r){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];function t(e,n){if(f(e)){var t=r[n];t=f(t)?t:{},r[n]=u(t,e)}else r[n]=e}return o(e,function(e){y(e,t)}),r}function j(e,n){var t=new Error(e);return b(t,n),t}function i(r,e){return e.forEach(function(e){var n=e.fulfilled,t=e.rejected;r=r.then(n,t)}),r}function v(e,n){return e+(-1<e.indexOf("?")?"?":"&")+n}var m=/([?&]_=)[^&]*/,E=Date.now();var O=console&&console.error||function(){};function n(t){return t.use=function(e,n){return h(t,{fulfilled:e,rejected:n}),t},t.eject=function(e){return function(e,n){e.splice(n,1)}(e),t},t}var q="Content-Type";function a(e){var n=e.url,t=e.cache,r=e.baseURL,o=e.headers,u=e.method,i=e.params,a=e.data,c=e.adapter;switch(r&&!function(e){return/^([a-z][a-z0-9+\-.]*:)?\/\//i.test(e)}(n)&&(n=function(e){var n=arguments,t=n.length;T(e)?1<t&&(e=""):e=e.replace(/\/+$/,"");var r="";return l(n,1,t,function(e){r+="/",r+=e||""}),r&&(e+=r.replace(/\/+/g,"/")),e}(r,n)),u){case"HEAD":case"DELETE":case"GET":i||(e.params=i=a,e.data=a=void 0);break;case"POST":var s=o[q]||"";f(a)&&(a=s.indexOf("application/json")?function(e){var t=[];return y(e,function(e,n){h(t,n+"="+e)}),t.join("&")}(a):JSON.stringify(a),e.data=a)}return i&&(f(i)&&(i=function(e,n,t){void 0===n&&(n="&"),void 0===t&&(t="=");var r=[];return d(e,function(e,n){e||!T(e)&&!isNaN(e)||(e=""),p(r,encodeURIComponent(n)+t+encodeURIComponent(e))}),r.length?r.join(n):""}(i)),n=v(n,i)),!1===t&&-1<["HEAD","GET"].indexOf(u)&&(n=function(e){return E++,e.replace(m,"$1"+E)===e&&(e=v(e,"_="+E)),e}(n)),e.url=n,c(e)}var r={timeout:0,responseType:"json",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300||304===e}};function C(e){return"function"==typeof e}var s={};function H(e){var n={};return e?f(e)&&(e=(n=e).message||""):e="Request aborted",n.code=t,j(e,n)}function R(e){var n=Date.now().toString(36)+Math.random().toString(36).slice(2);return s[n]=e,n}function N(e){return e&&e.code===t}function S(e){e&&delete s[e]}var U={json:"application/json; charset=UTF-8",form:"application/x-www-form-urlencoded; charset=UTF-8","form-data":"multipart/form-data; charset=UTF-8"},P={"Content-Type":U.form},k={common:{Accept:"application/json, text/plain, */*"}};["DELETE","GET","HEAD"].forEach(function(e){k[e]={}}),["POST","PUT","PATCH"].forEach(function(e){k[e]=b({},P)}),r.adapter=function(E){return new Promise(function(u,i){var n,a,e=E.method,t=E.url,r=E.data,o=E.async,c=E.timeout,s=E.responseType,f=E.onDownloadProgress,d=E.onUploadProgress,p=E.abortion,l=E.xhrHooks,h=new window.XMLHttpRequest,v=function(){h=a=n=null};h.open(e,t,!1!==o),h.timeout=c||0,h.onreadystatechange=function(){if(h&&4===h.readyState){S(a);var e=h.status,n=h.responseURL,t=h.responseText;if(0!==e||n&&0===n.indexOf("file:")){var r=s&&"text"!==s?h.response||t:h,o={data:r,statusText:h.statusText,options:E,request:h,status:e};if(l.response.forEach(function(e){return e(h,o,E)}),E.validateStatus(e)){if("json"===s&&function(e){return"string"==typeof e}(r))try{o.data=JSON.parse(r)}catch(e){O("Parse data error: ",e)}u(o)}else i(function(e,n){return j("Request failed with status code "+(n.code=e),n)}(e,o));v()}}},h.onabort=function(){h&&(i(b(n,{options:E,request:h})),S(a),v())},a=R(function(e){n=e,h&&h.abort()}),C(p)&&p(a),h.onerror=function(){S(a),i(function(e,n){return n.code=g,j(e||"Network Error")}(null,{options:E,request:h})),v()},h.ontimeout=function(){S(a),i(function(e,n){return n.code=x,j("Timeout of "+e+"ms exceeded",n)}(c,{options:E,request:h})),v()},l.request.forEach(function(e){return e(E)});var m=E.headers;if(C(h.setRequestHeader)&&y(m,function(e,n){T(r)&&n===w?delete m[n]:h.setRequestHeader(n,e)}),E.withCredentials&&(h.withCredentials=!0),s)try{h.responseType=s||""}catch(e){O("responseType error: ",e)}C(f)&&h.addEventListener("progress",f),C(d)&&h.upload&&h.upload.addEventListener("progress",d),h.send(r||null)})};var D=function(e){this.interceptors={request:n([]),response:n([])},this.xhrHooks={request:[],response:[]},this.defaults=u({},r,e)};return D.prototype.request=function(e){var n,t=(e=b({},this.defaults,e)).method,r=e.headers,o=e.contentType;t=e.method=t?t.toUpperCase():"GET",r=e.headers=function(e,n){return b({},k.common,k[n],e)}(r,t),(n=function(e){return e&&U[e]}(o))&&(r[w]=n);var u=this.xhrHooks;return e.xhrHooks=u,function(e,n,t){var r=Promise.resolve(e);return r=i(i(r,n).then(a),t)}(e,u.request,u.response)},D.prototype.setHeader=function(e,n,t){return t=t?t.toUpperCase():"common","Content-Type"===e&&(n=U[n]||n),(k[t]||k.common)[e]=n,this},function n(e){var t=new D(e),o=function(e,n){return f(e)?e=(n=e).url:(n=n||{}).url=e,t.request(n)};return b(o,{use:function(e){return e.installed||(e(t,o),e.installed=!0),o},create:function(e){return n(e)},all:function(e){return Promise.all(e.map(function(e){return o(e)}))},isAborted:N,abort:function(e,n){return function(e,n,t){return(0,s[e])(H(n)),delete s[e],t}(e,n,o)},abortAll:function(e){return function(t,e){return y(s,function(e,n){e(H(t)),delete s[n]}),e}(e,o)}}),["get","delete","head","options","post","put","patch"].forEach(function(r){o[r]=function(e,n,t){return o(e,u({method:r,data:n},t))}}),o.del=o.delete,o}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).tammy=n();