/*!
 * tammy.js v1.0.0-beta.9
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,n;e=this,n=function(){"use strict";function E(e){return null==e}function f(e){return!E(e)&&"object"==typeof e}function c(e,n){return n?e.bind(n):e}function d(e,n,t,r,o){for(var u=c(r,o),i=n,a=void 0;!1!==a&&i<t;i++)a=u(e[i],i,e)}function T(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(e.hasOwnProperty(o)&&!1===r(e[o],o,e))break}(e,n,t)}var y=Object.assign||function(e){if(E(e))throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);return d(arguments,1,arguments.length,function(e){T(e,function(e,n){t[n]=e})}),t};function p(e,n){return e[e.length]=n,e}var e,n,t=Array.prototype;function w(e){return"function"==typeof e}function i(e,n){return e<0?function(e,n){return n<=e?e:n}(0,n+e):e}function r(e,n,t,r,o){e&&function(e,n,t,r,o){var u=e.length;t=w(t)?(o=r,r=t,u):i(t,u),d(e,n=i(n,u),t,r,o)}(e,n,t,r,o)}n=function(e){return p(this,e)},(e="append")in t&&(e="c$"+e),t[e]=n;var o=Array.isArray;var g="Content-Type",q="ECONNRESET",u="ECONNABORTED",b="ENETWORK";function a(r,e){return T(e,function(e,n){if(f(e)){var t=r[n];t=f(t)?t:{},r[n]=a(t,e)}else r[n]=e}),r}function j(e,n){var t=new Error(e);return y(t,n),t}function l(e,n){return e+(-1===e.indexOf("?")?"?":"&")+n}var h=/([?&]_=)[^&]*/,v=Date.now();var O=console&&console.error||function(){};function s(t){return t.use=function(e,n){return t.append({fulfilled:e,rejected:n})},t.eject=function(e){return function(e,n){e&&o(e)&&function(e,n){e.splice(n,1)[0]}(e,n)}(e),t},t}var m="Content-Type";function C(e){var n=e.url,t=e.baseUrl,r=e.headers,o=e.method,u=e.qs,i=e.data,a=e.cache,c=e.adapter;switch(t&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(n)&&(n=function(e){var n=arguments,t=n.length;E(e)?1<t&&(e=""):e=e.replace(/\/+$/,"");var r="";return d(n,1,t,function(e){r+="/",r+=e||""}),r&&(e+=r.replace(/\/+/g,"/")),e}(t,n)),o){case"HEAD":case"DELETE":case"GET":u||(e.qs=u=i,e.data=i=void 0);break;case"POST":var s=r[m]||"";f(i)&&(i=s.indexOf("application/json")?function(e){var t=[];return T(e,function(e,n){t.append(n+"="+e)}),t.join("&")}(i):JSON.stringify(i),e.data=i)}return u&&(f(u)&&(u=function(e,n,t){void 0===n&&(n="&"),void 0===t&&(t="=");var r=[];return T(e,function(e,n){e||!E(e)&&!isNaN(e)||(e=""),p(r,encodeURIComponent(n)+t+encodeURIComponent(e))}),r.length?r.join(n):""}(u)),n=l(n,u)),!1===a&&-1<["HEAD","DELETE","GET"].indexOf(o)&&(n=function(e){return v++,e.replace(h,"$1"+v)===e&&(e=l(e,"_="+v)),e}(n)),e.url=n,c(e)}function x(e,n,t){return function(n){return r(arguments,1,function(e){e.forEach(function(e){n=f(e)?n.then(e.fulfilled,e.rejected):n.then(e)})}),n}(Promise.resolve(e),t.request,n.request,[C],n.response,t.response)}var A={timeout:0,responseType:"json",validateStatus:function(e){return 200<=e&&e<300||304===e}};var P="Request aborted",R={};function U(e){var n={};return e?f(e)&&(e=(n=e).message||P):e=P,n.code=u,j(e,n)}function D(e){var n=Date.now().toString(36)+Math.random().toString(36).slice(2);return R[n]=e,n}function H(e){return e&&e.code===u}function N(e){e&&delete R[e]}var S={json:"application/json; charset=UTF-8",form:"application/x-www-form-urlencoded; charset=UTF-8","form-data":"multipart/form-data; charset=UTF-8"},L={"Content-Type":S.form},k={common:{Accept:"application/json, text/plain, */*"}};["DELETE","GET","HEAD"].forEach(function(e){k[e]={}}),["POST","PUT","PATCH"].forEach(function(e){k[e]=y({},L)}),A.adapter=function(m){return new Promise(function(u,i){var n,a,e=m.method,t=m.url,r=m.data,o=m.async,c=m.timeout,s=m.responseType,f=m.onDownloadProgress,d=m.onUploadProgress,p=m.abortion,l=new window.XMLHttpRequest,h=function(){l=a=n=null};l.open(e,t,!1!==o),l.timeout=c||0,l.onreadystatechange=function(){if(l&&4===l.readyState){N(a);var e=l.status,n=l.responseURL,t=l.responseText;if(0!==e||n&&0===n.indexOf("file:")){var r=s&&"text"!==s?l.response||t:l,o={data:r,statusText:l.statusText,options:m,request:l,status:e};if(m.validateStatus(e)){if("json"===s&&function(e){return"string"==typeof e}(r))try{o.data=JSON.parse(r)}catch(e){O("Parse data error: ",e)}u(o)}else i(function(e,n){return j("Request failed with status code "+(n.code=e),n)}(e,o));h()}}},l.onabort=function(){l&&(i(y(n,{options:m,request:l})),N(a),h())},a=D(function(e){n=e,l&&l.abort()}),w(p)&&p(a),l.onerror=function(){N(a),i(function(e,n){return n.code=b,j(e||"Network Error")}(null,{options:m,request:l})),h()},l.ontimeout=function(){N(a),i(function(e,n){return n.code=q,j("Timeout of "+e+"ms exceeded",n)}(c,{options:m,request:l})),h()};var v=m.headers;if(w(l.setRequestHeader)&&T(v,function(e,n){E(r)&&n===g?delete v[n]:l.setRequestHeader(n,e)}),m.withCredentials&&(l.withCredentials=!0),s)try{l.responseType=s||""}catch(e){O("responseType error: ",e)}w(f)&&l.addEventListener("progress",f),w(d)&&l.upload&&l.upload.addEventListener("progress",d),l.send(r||null)})};var G=function(e){this.interceptors={request:s([]),response:s([])},this.internalHooks={request:s([]),response:s([])},this.defaults=function(n){return r(arguments,1,function(e){a(n,e)}),n}({},A,e)};return G.prototype.request=function(e){var n,t=(e=y({},this.defaults,e)).method,r=e.headers,o=e.contentType;return t=e.method=t?t.toUpperCase():"GET",r=e.headers=function(e,n){return y({},k.common,k[n],e)}(r,t),(n=function(e){return e&&S[e]}(o))&&(r[g]=n),x(e,this.internalHooks,this.interceptors)},G.prototype.setHeader=function(e,n,t){return t=t?t.toUpperCase():"common","Content-Type"===e&&(n=S[n]||n),(k[t]||k.common)[e]=n,this},function n(e){var t=new G(e),o=function(e,n){return f(e)?e=(n=e).url:(n=n||{}).url=e,t.request(n)};return y(o,{use:function(e){return e.installed||(e(t,o),e.installed=!0),o},create:function(e){return n(e)},all:function(e){return Promise.all(e.map(function(e){return o(e)}))},isAborted:H,abort:function(e,n){return function(e,n,t){return(0,R[e])(U(n)),delete R[e],t}(e,n,o)},abortAll:function(e){return function(t,e){return T(R,function(e,n){e(U(t)),delete R[n]}),e}(e,o)}}),["get","delete","head","options","post","put","patch"].forEach(function(r){o[r]=function(e,n,t){return o(e,a({method:r,data:n},t))}}),o.del=o.delete,o}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).tammy=n();