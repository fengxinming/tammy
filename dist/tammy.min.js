/*!
 * tammy.js v1.0.0-beta.6
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
var e,n;e=this,n=function(){"use strict";function E(e){return null==e}function f(e){return!E(e)&&"object"==typeof e}function c(e,n){return n?e.bind(n):e}function d(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(e.hasOwnProperty(o)&&!1===r(e[o],o,e))break}(e,n,t)}function l(e,n){e[e.length]=n}function p(e,n,t,r,o){for(var u=c(r,o),i=n,a=void 0;!1!==a&&i<t;i++)a=u(e[i],i,e)}function T(e,n,t){return f(e)&&function(e,n,t){var r=c(n,t);for(var o in e)if(!1===r(e[o],o,e))break}(e,n,t)}function n(e,n,t){return e&&function(e,n,t){p(e,0,e.length,n,t)}(e,n,t)}function y(e){return"function"==typeof e}function r(e,n,t,r,o){e&&(y(t)&&(o=r,r=t,t=e.length),p(e,n,t||e.length,r,o))}function h(e,n){if(e)return l(e,n),n}var w="Content-Type",t="ECONNRESET",g="ETIMEOUT",b="ENETWORK",q=Object.assign||function(e){if(E(e))throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);return n(arguments,function(e){T(e,function(e,n){t[n]=e})}),t};function u(r,e){return T(e,function(e,n){if(f(e)){var t=r[n];t=f(t)?t:{},r[n]=u(t,e)}else r[n]=e}),r}function j(e,n){var t=new Error(e);return q(t,n),t}function v(e,n){return e+(-1===e.indexOf("?")?"?":"&")+n}var m=/([?&]_=)[^&]*/,O=Date.now();var x=console&&console.error||function(){};function o(t){return t.use=function(e,n){return h(t,{fulfilled:e,rejected:n}),t},t.eject=function(e){return function(e,n){e.splice(n,1)}(e),t},t}var C="Content-Type";function i(e){var n=e.url,t=e.baseUrl,r=e.headers,o=e.method,u=e.qs,i=e.data,a=e.cache,c=e.adapter;switch(t&&!function(e){return/^([a-z][a-z0-9+\-.]*:)?\/\//i.test(e)}(n)&&(n=function(e){var n=arguments,t=n.length;E(e)?1<t&&(e=""):e=e.replace(/\/+$/,"");var r="";return p(n,1,t,function(e){r+="/",r+=e||""}),r&&(e+=r.replace(/\/+/g,"/")),e}(t,n)),o){case"HEAD":case"DELETE":case"GET":u||(e.qs=u=i,e.data=i=void 0);break;case"POST":var s=r[C]||"";f(i)&&(i=s.indexOf("application/json")?function(e){var t=[];return T(e,function(e,n){h(t,n+"="+e)}),t.join("&")}(i):JSON.stringify(i),e.data=i)}return u&&(f(u)&&(u=function(e,n,t){void 0===n&&(n="&"),void 0===t&&(t="=");var r=[];return d(e,function(e,n){e||!E(e)&&!isNaN(e)||(e=""),l(r,encodeURIComponent(n)+t+encodeURIComponent(e))}),r.length?r.join(n):""}(u)),n=v(n,u)),!1===a&&-1<["HEAD","DELETE","GET"].indexOf(o)&&(n=function(e){return O++,e.replace(m,"$1"+O)===e&&(e=v(e,"_="+O)),e}(n)),e.url=n,c(e)}function a(e,n,t){return function(n){return r(arguments,1,function(e){e.forEach(function(e){n=f(e)?n.then(e.fulfilled,e.rejected):n.then(e)})}),n}(Promise.resolve(e),t.request,n.request,[i],n.response,t.response)}var s={timeout:0,responseType:"json",validateStatus:function(e){return 200<=e&&e<300||304===e}};var U="Request aborted",P={};function H(e){var n={};return e?f(e)&&(e=(n=e).message||U):e=U,n.code=t,j(e,n)}function R(e){var n=Date.now().toString(36)+Math.random().toString(36).slice(2);return P[n]=e,n}function S(e){return e&&e.code===t}function D(e){e&&delete P[e]}var N={json:"application/json; charset=UTF-8",form:"application/x-www-form-urlencoded; charset=UTF-8","form-data":"multipart/form-data; charset=UTF-8"},A={"Content-Type":N.form},L={common:{Accept:"application/json, text/plain, */*"}};["DELETE","GET","HEAD"].forEach(function(e){L[e]={}}),["POST","PUT","PATCH"].forEach(function(e){L[e]=q({},A)}),s.adapter=function(m){return new Promise(function(u,i){var n,a,e=m.method,t=m.url,r=m.data,o=m.async,c=m.timeout,s=m.responseType,f=m.onDownloadProgress,d=m.onUploadProgress,l=m.abortion,p=new window.XMLHttpRequest,h=function(){p=a=n=null};p.open(e,t,!1!==o),p.timeout=c||0,p.onreadystatechange=function(){if(p&&4===p.readyState){D(a);var e=p.status,n=p.responseURL,t=p.responseText;if(0!==e||n&&0===n.indexOf("file:")){var r=s&&"text"!==s?p.response||t:p,o={data:r,statusText:p.statusText,options:m,request:p,status:e};if(m.validateStatus(e)){if("json"===s&&function(e){return"string"==typeof e}(r))try{o.data=JSON.parse(r)}catch(e){x("Parse data error: ",e)}u(o)}else i(function(e,n){return j("Request failed with status code "+(n.code=e),n)}(e,o));h()}}},p.onabort=function(){p&&(i(q(n,{options:m,request:p})),D(a),h())},a=R(function(e){n=e,p&&p.abort()}),y(l)&&l(a),p.onerror=function(){D(a),i(function(e,n){return n.code=b,j(e||"Network Error")}(null,{options:m,request:p})),h()},p.ontimeout=function(){D(a),i(function(e,n){return n.code=g,j("Timeout of "+e+"ms exceeded",n)}(c,{options:m,request:p})),h()};var v=m.headers;if(y(p.setRequestHeader)&&T(v,function(e,n){E(r)&&n===w?delete v[n]:p.setRequestHeader(n,e)}),m.withCredentials&&(p.withCredentials=!0),s)try{p.responseType=s||""}catch(e){x("responseType error: ",e)}y(f)&&p.addEventListener("progress",f),y(d)&&p.upload&&p.upload.addEventListener("progress",d),p.send(r||null)})};var k=function(e){this.interceptors={request:o([]),response:o([])},this.internalHooks={request:o([]),response:o([])},this.defaults=function(n){return r(arguments,1,function(e){u(n,e)}),n}({},s,e)};return k.prototype.request=function(e){var n,t=(e=q({},this.defaults,e)).method,r=e.headers,o=e.contentType;return t=e.method=t?t.toUpperCase():"GET",r=e.headers=function(e,n){return q({},L.common,L[n],e)}(r,t),(n=function(e){return e&&N[e]}(o))&&(r[w]=n),a(e,this.internalHooks,this.interceptors)},k.prototype.setHeader=function(e,n,t){return t=t?t.toUpperCase():"common","Content-Type"===e&&(n=N[n]||n),(L[t]||L.common)[e]=n,this},function n(e){var t=new k(e),o=function(e,n){return f(e)?e=(n=e).url:(n=n||{}).url=e,t.request(n)};return q(o,{use:function(e){return e.installed||(e(t,o),e.installed=!0),o},create:function(e){return n(e)},all:function(e){return Promise.all(e.map(function(e){return o(e)}))},isAborted:S,abort:function(e,n){return function(e,n,t){return(0,P[e])(H(n)),delete P[e],t}(e,n,o)},abortAll:function(e){return function(t,e){return T(P,function(e,n){e(H(t)),delete P[n]}),e}(e,o)}}),["get","delete","head","options","post","put","patch"].forEach(function(r){o[r]=function(e,n,t){return o(e,u({method:r,data:n},t))}}),o.del=o.delete,o}()},"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).tammy=n();